<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <script src="common_func.js"></script>
    <script>
        //잼재적 함수 함수를 호출하면 실행 됨
        // 회원가입 화면에 입력한 데이터의 유효성 체크를 해주는
        // checkMemRegForm 함수 선언
       function checkMemRegForm(){
        // 변수 formObj 선언하고 <form name memberRegForm>태그를 관리하는
        // Form 객체의 메모리 위치 주소 저장하기
        var formObj = document.memberRegForm;



        
        // 유저가 입력한 [아이디] 가져와서 변수 uid 에 저장하기
        // 유저가 입력한 [암호] 가져와서 변수 pwd 에 저장하기
        // 유저가 입력한 [이름] 가져와서 변수 mem_name 에 저장하기    
        // 유저가 입력한 [주소] 가져와서 변수 addr 에 저장하기
        var uid =formObj.uid.value;
        var pwd =formObj.pwd.value;
        var mem_name =formObj.mem_name.value;
        var addr = formObj.addr.value;
        
        




        // 유저가 입력한 이름의 유효성 체크하기 공용함수 이용!!!!
        // isValidPattern 함수를 호출하여 이름 문자열이 합당한 이름이면
        // 즉 isValidPattern (/^[가-힣]{2,20}$/, mem_name) 호출하여 리턴값이 false이면
         if(isValidPattern(/^[가-힣]{2,20}$/, mem_name)==false){
            alert("회원명에는 한글 2~20자 까지 입력해야 합니다.")
            // <form name = memberRegForm~>태그 안의
            // <input type=text name = mem_name~> 태그가 실행되어 출력되는 입력양식에 값 비우기
            formObj.mem_name.value=""
            // <form name = memberRegForm~>태그 안의
            // <input type=text name = mem_name~> 태그가 실행되어 출력되는 입력양식에 포커스 넣기
            formObj.mem_name.focus();
            //함수 중단
             return;
        }
        /*var regExp = new RegExp(/^[가-힣]{2,20}$/);
        if(regExp.test(mem_name)==false){
      //if(!regExp.test(mem_name))
            alert("회원명에는 한글 2~20자 까지 입력해야 합니다.")
            formObj.mem_name.value="";
            return;
        }*/



        // 유저가 입력한 이름의 유효성 체크하기 공용함수 이용!!!!
        // isValidPattern 함수를 호출하여 이름 문자열이 합당한 이름이면
        // 즉 isValidPattern (/^[a-z][a-z0-9_]{4,9}$/, uid) 호출하여 리턴값이 false이면
        if(isValidPattern(/^[a-z][a-z0-9_]{4,9}$/, uid)==false){
            alert("아이디는 영소문자로 시작하고 영소문자 또는 숫자 또는 _ 로 5~10자로 구성되야합니다..")
            // <form name = memberRegForm~>태그 안의
            // <input type=text name = uid~> 태그가 실행되어 출력되는 입력양식에 값 비우기
            formObj.uid.value=""
            // <form name = memberRegForm~>태그 안의
            // <input type=text name = uid~> 태그가 실행되어 출력되는 입력양식에 포커스 넣기
            formObj.uid.focus();
            //함수 중단
             return;
        }
        /*var regExp = new RegExp(/^[a-z][a-z0-9_]{4,9}$/);
        if(regExp.test(uid)==false){
            alert("아이디는 영소문자로 시작하고 영소문자 또는 숫자 또는 _ 로 5~10자로 구성되야합니다..")
            formObj.uid.value="";
            return;
        }*/





        // 유저가 입력한 이름의 유효성 체크하기 공용함수 이용!!!!
        // isValidPattern 함수를 호출하여 이름 문자열이 합당한 이름이면
        // 즉 isValidPattern (/^[a-z0-9_]{5,8}$/, pwd) 호출하여 리턴값이 false이면
        if(isValidPattern(/^[a-z0-9_]{5,8}$/, pwd)==false){
            alert("암호는 영소문자 또는 숫자로 5~8자로 구성되어야 합니다.")
            // <form name = memberRegForm~>태그 안의
            // <input type=text name = pwd~> 태그가 실행되어 출력되는 입력양식에 값 비우기
            formObj.pwd.value=""
            // <form name = memberRegForm~>태그 안의
            // <input type= password name = pwd~> 태그가 실행되어 출력되는 입력양식에 포커스 넣기
            formObj.pwd.focus();
            //함수 중단
             return;
        }
        /*var regExp = new RegExp(/^[a-z0-9_]{5,8}$/);
        if(regExp.test(pwd)==false){
            alert("암호는 영소문자 또는 숫자로 5~8자로 구성되어야 합니다.")
            formObj.pwd.value="";
            return;
       }*/

       
       // 주소가 선택되지 않은면 경고하고 함수중단.
       if(isEmpty(addr)){
           alert("지역을 선택해주세요")
           return;
       }












        // 성별이 하나라도 체크가 안되 있으면 경고하고 함수중단
        // getCheckCnt 함수를 호출하여 성별의 체크 개수를 얻어 0개 이면 경고하고 함수중단
       if(getCheckCnt(formObj.gender)==0){
            alert("남,여 중 하나는 선택해야합니다.");
            return;
       }
        // 취미가 1이상 체크가 안되 있으면 경고하고 함수중단
        // getCheckCnt 함수를 호출하여 취미의 체크 개수를 얻어 1개 미만이면 경고하고 함수중단
       if(getCheckCnt(formObj.hobby)<1){
        alert("취미를 1개 이상 선택해주십시오.");
            return;
       }
        // [동의]가 0개 체크되어 있으면 경고하고 함수중단
        // getCheckCnt 함수를 호출하여 [동의]의 체크 개수를 얻어 0개면 경고하고 함수중단       
       if(getCheckCnt(formObj.confirm)==0){
           alert("개인정보약관에 동의해주세요")
           return;
       }


       
       // 성별이 하나라도 체크가 안되 있으면 경고하고 함수중단
       // 성별의 개수 얻어서 변수 genderCnt 저장하기
       /* var genderCnt = formObj.gender.length;
       
       // 성별의 체크 개수 저장하는 변수 checkedCnt 선언하고 0저장.
       var checkedCnt = 0;
       
       // 반복문을 사용하여 성별의 체크 여부 확인하고 체크되어 있으면 checkedCnt 변수에 1 업데이트하기
       for(var i =0; i<genderCnt; i++){
           if(formObj.gender[i].checked==true){
               checkedCnt++;
            }
            // 만약 checkedCnt 변수에 0이 저장되어 있으면, 즉 체크가 하나라도 안되 있으면 경고하고 함수 중단하기
            if(checkedCnt==0){
                alert("남,여 중 하나는 선택해야합니다.");
                return;
            }
        }
        // 취미가 1이상 체크가 안되 있으면 경고하고 함수중단
        // 취미의 개수 얻어서 변수 hobbyCnt 저장하기
        var hobbyCnt = formObj.hobby.length;
        
        // 취미의 체크 개수 저장하는 변수 checkedCnt 선언하고 0저장.
        var checkedCnt = 0;
        
        // 반복문을 사용하여 성별의 체크 여부 확인하고 체크되어 있으면 checkedCnt 변수에 1 업데이트하기
        for(var i =0; i<hobbyCnt; i++){
            if(formObj.hobby[i].checked==true){
                checkedCnt++;
            }
            // 만약 checkedCnt 변수에 1미만이 저장되어 있으면, 즉 체크가 하나라도 안되 있으면 경고하고 함수 중단하기
            if(checkedCnt<1){
                alert("취미를 1개 이상 선택해주십시오.");
                return;
            }
        }*/
        
        
        /* var isMen = formObj.gender[0].checked;
        var isWomen = formObj.gender[1].checked;
        
        if(isMen==false && isWomen==false){
            alert("남,여 중 하나는 선택해야합니다.");
            return;
        }*/
        
        /*
        // 개인정보동의 체크가 안되있으면 경고 후 함수중단
        if(formObj.confirm.checked==false){
            alert("동의해라")
            return;
        }*/
        
        // confirm 함수 호출로 confirm 상자를 열고 확인 버튼을 누르면
        if(confirm("정말 가입하시겠습니까?")){
            alert("회원가입 성공")
            location.replace("loginForm.html")
        }
    }
    </script>
</head>
<body>
    <form name = "memberRegForm">
        <center>
            <table border="1" cellpadding="5" style="border-collapse:collapse;">
                <caption>회원가입</caption>
                <tr>
                    <th bgcolor="lightgray">회원명</th>
                    <td><input type="text" name="mem_name"></td>
                </tr>
                <tr>
                    <th bgcolor="lightgray">아이디</th>
                    <td><input type="text" name="uid"></td>
                </tr>
                <tr>
                    <th bgcolor="lightgray">암호</th>
                    <td><input type="password" name="pwd"></td>
                </tr>
                <tr>
                    <th bgcolor="lightgray">거주지</th>
                    <td>
                        <select name="addr">
                            <option value="">--선택--</option>
                            <option value="서울">서울</option>
                            <option value="경기">경기</option>
                            <option value="인천">인천</option>
                            <option value="기타">기타</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th bgcolor="lightgray">성별</th>
                    <td>
                        <input type="radio" name="gender" value="남">남
                        <input type="radio" name="gender" value="여">여
                    </td>
                </tr>
                <tr>
                    <th bgcolor="lightgray">취미</th>
                    <td>
                        <input type="checkbox" name="hobby" value="운동">운동
                        <input type="checkbox" name="hobby" value="여행">여행
                        <input type="checkbox" name="hobby" value="독서">독서
                        <input type="checkbox" name="hobby" value="기타">기타
                    </td>
                </tr>
                <tr>
                    <th bgcolor="lightgray">기타</th>
                    <td>
                        <input type="checkbox" name="confirm" value="동의">동의(가입하신 개인정보는 보관 됩니다.)
                    </td>
                </tr>
            </table><br>
            <input type="button" value="저장" onclick="checkMemRegForm();">
            <input type="reset" value="초기화"> <br><br>
            <input type="button" value="로그인 화면으로" 
            onclick="location.replace('loginForm.html')"">
        </center>
    </form>
</body>
</html>
